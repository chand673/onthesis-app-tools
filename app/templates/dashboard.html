{% extends "layout.html" %}

{% block title %}Dasbor - OnThesis{% endblock %}

{% block content %}
<!-- Header Utama Kanvas -->
<header class="animate-slide-in" style="animation-delay: 100ms;">
    <h1 class="text-3xl font-bold text-white">Command Center</h1>
    <p class="text-gray-400 mt-1">Selamat datang kembali, {{ current_user.username }}! Mari kita mulai berkarya.</p>
</header>

<!-- Kartu Statistik Cepat -->
<section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-8">
    <!-- Proyek Aktif -->
    <div class="glass-pane p-6 flex items-center gap-4 animate-slide-in" style="animation-delay: 200ms;">
        <div class="p-3 bg-blue-500/20 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-400"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline></svg>
        </div>
        <div>
            <p class="text-sm text-gray-400">Proyek Aktif</p>
            <p class="text-2xl font-bold text-white">3</p>
        </div>
    </div>
    <!-- Referensi Tersimpan -->
    <div class="glass-pane p-6 flex items-center gap-4 animate-slide-in" style="animation-delay: 300ms;">
        <div class="p-3 bg-green-500/20 rounded-lg">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-400"><path d="M4 6h16"/><path d="M4 12h16"/><path d="M4 18h16"/></svg>
        </div>
        <div>
            <p class="text-sm text-gray-400">Referensi Tersimpan</p>
            <p class="text-2xl font-bold text-white">124</p>
        </div>
    </div>
    <!-- Penggunaan Parafrase -->
    <div class="glass-pane p-6 flex items-center gap-4 animate-slide-in" style="animation-delay: 400ms;">
        <div class="p-3 bg-purple-500/20 rounded-lg">
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-purple-400"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg>
        </div>
        <div>
            <p class="text-sm text-gray-400">Parafrase Hari Ini</p>
            <p class="text-2xl font-bold text-white">2/5</p>
        </div>
    </div>
</section>

<!-- Akses Cepat Fitur Utama -->
<section class="mt-8">
    <h2 class="text-xl font-semibold text-white mb-4 animate-slide-in" style="animation-delay: 500ms;">Akses Cepat Fitur Utama</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Kartu Search References -->
        <a href="{{ url_for('search_references') }}" class="glass-pane p-6 group animate-slide-in" style="animation-delay: 600ms;">
            <div class="flex justify-between items-start">
                <div>
                    <h3 class="text-lg font-bold text-white">Search References</h3>
                    <p class="text-sm text-gray-400 mt-1">Temukan jutaan jurnal dan referensi ilmiah.</p>
                </div>
                <div class="p-3 bg-gray-700/50 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-300"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                </div>
            </div>
            <div class="mt-4 text-sm font-semibold text-blue-400 group-hover:underline">
                Mulai Mencari &rarr;
            </div>
        </a>

        <!-- Kartu Asisten AI (PRO) -->
        <a href="{{ url_for('writing_assistant') }}" class="glass-pane p-6 group animate-slide-in relative" style="animation-delay: 700ms;">
             <span class="absolute top-4 right-4 text-xs bg-green-500/30 text-green-300 px-3 py-1 rounded-full font-semibold border border-green-400/50">PRO</span>
            <div class="flex justify-between items-start">
                <div>
                    <h3 class="text-lg font-bold text-white">Asisten Penulisan AI</h3>
                    <p class="text-sm text-gray-400 mt-1">Akselerasi penulisan dengan AI canggih.</p>
                </div>
                <div class="p-3 bg-gray-700/50 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-300"><path d="m12 2 3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
                </div>
            </div>
            <div class="mt-4 text-sm font-semibold text-blue-400 group-hover:underline">
                Buka Asisten &rarr;
            </div>
        </a>
    </div>
</section>
{% endblock %}

{% block companion_sidebar %}
<!-- Sidebar Kanan Khusus untuk Dasbor -->
<div class="flex flex-col h-full">
    <h2 class="text-xl font-bold text-white mb-6">Aktivitas Terbaru</h2>
    <div class="flex-1 space-y-6 overflow-y-auto pr-2">
        <!-- Item Aktivitas -->
        <div class="flex items-start gap-4">
            <div class="w-10 h-10 flex-shrink-0 bg-blue-900/50 rounded-full flex items-center justify-center border border-blue-700">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-400"><path d="M4 6h16"/></svg>
            </div>
            <div>
                <p class="text-sm text-gray-300">Anda menambahkan <span class="font-semibold text-white">5 referensi baru</span> ke proyek 'Bab 1'.</p>
                <p class="text-xs text-gray-500 mt-1">10 menit yang lalu</p>
            </div>
        </div>
        <!-- Item Aktivitas Lainnya -->
    </div>
</div>
{% endblock %}
